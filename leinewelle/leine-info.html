<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

  <head>
    <script type="javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-NK9PKNV');</script>
    <meta name="verify-v1" content="N4t1FFHRz/ixDoATYjDAC4gLrWaPliPD5z6fD4Kdl0k=" />
    <meta name="author" content="Jan Hinzmann" />
    <meta name="description" content="Homepage von Jan Hinzmann" />

    <link rel="stylesheet" type="text/css" href="../style/janhinzmann.css" />

    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <title>JH Leine-Infos</title>
  </head>

  <body>
    <div style="text-align: center;margin:20px;">
      <a href="../"><img alt="Jan Hinzmann" src="../img/janhinzmann2.png" /></a>
    </div>

    <div class="nav">
      <ul>
        <li><img src="../favicon/favicon-32x32.png" style="padding: 10px 10px 4px 7px;" /></li>
        <li><a href="http://janhinzmann.de/">Home</a></li>
        <li><a href="#" class="active">Leinewelle</a></li>
        <li><a href="http://janhinzmann.de/stories/">Stories</a></li>
        <li><a href="http://janhinzmann.de/uni/">Uni</a></li>
        <li style="float:right"><a href="../about.html">About</a></li>
      </ul>
    </div>

    <div class="content">
        <h3>Wavemaster Toolbox</h3>
        <div class="entry">
            <!--<div><b>Messstelle: </b><span id="messstelle"> ... loading </span></div>-->
            <div><b>Datum: </b><span id="date"> ... loading </span></div>
            <div><b>Pegel: </b><span id="pegel"> ... loading </span> in <span id="messstelle"> ... loading </span></div>
            <div><b>Trend: </b><span id="trend"> ... loading </span></div>
            <br />
            <!--<div><b>Temperatur: </b><span id="temperatur"> ... loading </span></div>-->
            <div><b>Wetterwarnung: </b><a
                    href="https://www.dwd.de/DE/wetter/warnungen/warnWetter_node.html?ort=Hannover"
                    target="_blank">Wetter (DWD)</a></div>
            <br />
            <div>Daten von <a href="https://www.gewaessergueteonline.nlwkn.niedersachsen.de/Start">NLWKN</a></div>
        </div>
    </div>
    <div class="footer">2006-2023 Jan Hinzmann</div>
    <script>
        let pegelonlinePublicKoldingen = "https://bis.azure-api.net/PegelonlinePublic/REST/stammdaten/stationen/378?key=9dc05f4e3b4a43a9988d747825b39f43";
        let statIDKoldingen=378;
        let statIDPoppenburg=486;
        let statIDGreene=287;
        let statIDLeineturm=400;
        let statIDHerrenhausen=325;

        let pegelOnlineUrl = pegelonlinePublicKoldingen.replace("STAT_ID", statIDKoldingen);
        let pegelJSON = fetch(pegelOnlineUrl)
            .then(function (response) { return response.json(); })
            .then(function (pegelData) {
                let messstelle = pegelData.getStammdatenResult[0].Name;
                let date = pegelData.getStammdatenResult[0].Parameter[0].Datenspuren[0].AktuellerMesswert_Zeitpunkt + " Uhr";
                let pegel = pegelData.getStammdatenResult[0].Parameter[0].Datenspuren[0].AktuellerMesswert_Text;
                let trend = pegelData.getStammdatenResult[0].Parameter[0].Datenspuren[0].Trend;
                //let temperatur = "kalt";

                document.getElementById("messstelle").innerHTML = messstelle;
                document.getElementById("date").innerHTML = date;
                document.getElementById("pegel").innerHTML = pegel;
                document.getElementById("trend").innerHTML = trend;
                //document.getElementById("temperatur").innerHTML = temperatur;

            });
    </script>
  </body>
</html>